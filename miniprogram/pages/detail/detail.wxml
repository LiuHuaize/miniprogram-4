<view class="page">
  <view class="status-spacer"></view>

  <view class="nav-bar">
    <view class="nav-left" bindtap="onBack">
      <view class="nav-icon-wrap">
        <t-icon name="chevron-left" size="32rpx" />
      </view>
      <text class="nav-text">返回</text>
    </view>
    <text class="nav-title">创业营详情</text>
    <view class="nav-right">
      <view class="nav-action">
        <t-icon name="ellipsis" size="32rpx" />
      </view>
      <view class="nav-action">
        <t-icon name="browse" size="32rpx" />
      </view>
    </view>
  </view>

  <scroll-view
    class="scroll-area"
    scroll-y
    show-scrollbar="{{false}}"
    scroll-top="{{scrollTop}}"
    scroll-with-animation="true"
  >
    <view class="hero-card">
      <view class="hero-image">
        <image
          class="hero-photo"
          mode="aspectFill"
          src="{{posterUrls['/assets/poster/01-cover.png']}}"
          data-src="{{posterUrls['/assets/poster/01-cover.png']}}"
          binderror="onImageError"
        />
        <view class="hero-mask"></view>
        <view class="hero-badge">2026 AI ENTREPRENEURSHIP CAMP</view>
        <view class="hero-title">少年独角兽 AI 创业营</view>
        <view class="hero-sub">深圳 · 6 天沉浸式项目制学习</view>
      </view>
    </view>

    <view class="info-card">
      <view class="info-main">
        <view class="info-left">
          <text class="info-title">少年独角兽 AI 创业营 2026</text>
          <text class="info-sub">营期时间：2026.02.08-02.13</text>
        </view>
        <view class="info-right">
          <text class="info-price">咨询价</text>
          <text class="info-tip">10-16 岁 · 6 天 5 晚</text>
        </view>
      </view>
      <view class="info-meta">
        <view class="meta-item">
          <t-icon name="time" size="24rpx" />
          <text>6 天</text>
        </view>
        <view class="meta-item">
          <t-icon name="user" size="24rpx" />
          <text>10-16 岁</text>
        </view>
        <view class="meta-item">
          <t-icon name="location" size="24rpx" />
          <text>深圳 · 广东</text>
        </view>
      </view>
      <view class="period-row" bindtap="onOpenPeriods">
        <view class="period-left">
          <text class="period-label">期数</text>
          <text class="period-value">{{periods[selectedPeriodIndex].name}}（{{periods[selectedPeriodIndex].date}}）</text>
        </view>
        <t-icon name="chevron-right" size="28rpx" />
      </view>
    </view>

    <scroll-view class="tabs" scroll-x show-scrollbar="{{false}}">
      <view class="tab-list">
        <view class="tab-item {{activeTab === 'theme' ? 'active' : ''}}" data-key="theme" bindtap="onTab">介绍</view>
        <view class="tab-item {{activeTab === 'content' ? 'active' : ''}}" data-key="content" bindtap="onTab">核心收获</view>
        <view class="tab-item {{activeTab === 'schedule' ? 'active' : ''}}" data-key="schedule" bindtap="onTab">日程</view>
        <view class="tab-item {{activeTab === 'itinerary' ? 'active' : ''}}" data-key="itinerary" bindtap="onTab">师资</view>
        <view class="tab-item {{activeTab === 'stay' ? 'active' : ''}}" data-key="stay" bindtap="onTab">保障</view>
        <view class="tab-item {{activeTab === 'service' ? 'active' : ''}}" data-key="service" bindtap="onTab">流程</view>
      </view>
    </scroll-view>

    <view class="section-block" id="anchor-theme" wx:if="{{activeTab === 'theme'}}">
      <view class="section-head">
        <view class="section-left">
          <text class="section-title">介绍</text>
          <text class="section-en">INTRO</text>
        </view>
        <text class="section-brand">YIXIAOBU EDU</text>
      </view>
      <view class="section-card">
        <view class="section-figure theme-figure">
          <image
            class="figure-photo"
            mode="aspectFill"
            src="{{posterUrls['/assets/poster/intro-photo.jpg']}}"
            data-src="{{posterUrls['/assets/poster/intro-photo.jpg']}}"
            binderror="onImageError"
          />
          <view class="figure-content">
            <view class="figure-chip">AI 创业营</view>
            <text class="figure-title">少年独角兽 2026</text>
            <text class="figure-sub">真实问题驱动 · 深圳</text>
          </view>
        </view>
        <view class="section-body">
          <image
            class="poster-image"
            mode="widthFix"
            src="{{posterUrls['/assets/poster/03-intro.png']}}"
            data-src="{{posterUrls['/assets/poster/03-intro.png']}}"
            binderror="onImageError"
          />
        </view>
      </view>
    </view>

    <view class="section-block" id="anchor-content" wx:if="{{activeTab === 'content'}}">
      <view class="section-head">
        <view class="section-left">
          <text class="section-title">核心收获</text>
          <text class="section-en">GAINS</text>
        </view>
        <text class="section-brand">YIXIAOBU EDU</text>
      </view>
      <view class="section-card">
        <view class="section-figure content-figure">
          <image
            class="figure-photo"
            mode="aspectFill"
            src="{{posterUrls['/assets/poster/gains-photo.jpg']}}"
            data-src="{{posterUrls['/assets/poster/gains-photo.jpg']}}"
            binderror="onImageError"
          />
          <view class="figure-content">
            <view class="figure-chip">6 大核心收获</view>
            <text class="figure-title">创业 + AI 能力</text>
            <text class="figure-sub">真实项目沉浸训练</text>
          </view>
        </view>
        <view class="section-body">
          <image
            class="poster-image"
            mode="widthFix"
            src="{{posterUrls['/assets/poster/04-gains.png']}}"
            data-src="{{posterUrls['/assets/poster/04-gains.png']}}"
            binderror="onImageError"
          />
        </view>
      </view>
    </view>

    <view class="section-block" id="anchor-schedule" wx:if="{{activeTab === 'schedule'}}">
      <view class="section-head">
        <view class="section-left">
          <text class="section-title">日程</text>
          <text class="section-en">SCHEDULE</text>
        </view>
        <text class="section-brand">YIXIAOBU EDU</text>
      </view>
      <view class="section-card">
        <view class="section-figure schedule-figure">
          <image
            class="figure-photo"
            mode="aspectFill"
            src="{{posterUrls['/assets/poster/schedule-photo.jpg']}}"
            data-src="{{posterUrls['/assets/poster/schedule-photo.jpg']}}"
            binderror="onImageError"
          />
          <view class="figure-content">
            <view class="figure-chip">6 天项目流程</view>
            <text class="figure-title">趋势 · 洞察 · 共创</text>
            <text class="figure-sub">从发现问题到路演展示</text>
          </view>
        </view>
        <view class="section-body">
          <image
            class="poster-image"
            mode="widthFix"
            src="{{posterUrls['/assets/poster/05-schedule.png']}}"
            data-src="{{posterUrls['/assets/poster/05-schedule.png']}}"
            binderror="onImageError"
          />
        </view>
      </view>
    </view>

    <view class="section-block" id="anchor-itinerary" wx:if="{{activeTab === 'itinerary'}}">
      <view class="section-head">
        <view class="section-left">
          <text class="section-title">师资</text>
          <text class="section-en">MENTORS</text>
        </view>
        <text class="section-brand">YIXIAOBU EDU</text>
      </view>
      <view class="section-card">
        <view class="section-figure itinerary-figure">
          <image
            class="figure-photo"
            mode="aspectFill"
            src="{{posterUrls['/assets/poster/mentors-photo.jpg']}}"
            data-src="{{posterUrls['/assets/poster/mentors-photo.jpg']}}"
            binderror="onImageError"
          />
          <view class="figure-content">
            <view class="figure-chip">专家导师 + 青年导师</view>
            <text class="figure-title">导师体系</text>
            <text class="figure-sub">重磅评委 · 项目共创</text>
          </view>
        </view>
        <view class="section-body">
          <image
            class="poster-image"
            mode="widthFix"
            src="{{posterUrls['/assets/poster/06-mentors.png']}}"
            data-src="{{posterUrls['/assets/poster/06-mentors.png']}}"
            binderror="onImageError"
          />
        </view>
      </view>
    </view>

    <view class="section-block" id="anchor-stay" wx:if="{{activeTab === 'stay'}}">
      <view class="section-head">
        <view class="section-left">
          <text class="section-title">保障</text>
          <text class="section-en">GUARD</text>
        </view>
        <text class="section-brand">YIXIAOBU EDU</text>
      </view>
      <view class="section-card">
        <view class="section-figure stay-figure">
          <image
            class="figure-photo"
            mode="aspectFill"
            src="{{posterUrls['/assets/poster/guard-photo.jpg']}}"
            data-src="{{posterUrls['/assets/poster/guard-photo.jpg']}}"
            binderror="onImageError"
          />
          <view class="figure-content">
            <view class="figure-chip">全方位营期保障</view>
            <text class="figure-title">十二项保障措施</text>
            <text class="figure-sub">安全 · 医疗 · 出行 · 食宿</text>
          </view>
        </view>
        <view class="section-body">
          <image
            class="poster-image"
            mode="widthFix"
            src="{{posterUrls['/assets/poster/07-guard.png']}}"
            data-src="{{posterUrls['/assets/poster/07-guard.png']}}"
            binderror="onImageError"
          />
        </view>
      </view>
    </view>

    <view class="section-block" id="anchor-service" wx:if="{{activeTab === 'service'}}">
      <view class="section-head">
        <view class="section-left">
          <text class="section-title">流程</text>
          <text class="section-en">PROCESS</text>
        </view>
        <text class="section-brand">YIXIAOBU EDU</text>
      </view>
      <view class="section-card">
        <view class="section-figure service-figure">
          <image
            class="figure-photo"
            mode="aspectFill"
            src="{{posterUrls['/assets/poster/process-photo.jpg']}}"
            data-src="{{posterUrls['/assets/poster/process-photo.jpg']}}"
            binderror="onImageError"
          />
          <view class="figure-content">
            <view class="figure-chip">报名与服务流程</view>
            <text class="figure-title">顾问对接 · 行前准备</text>
            <text class="figure-sub">开营到结营全程陪伴</text>
          </view>
        </view>
        <view class="section-body">
          <image
            class="poster-image"
            mode="widthFix"
            src="{{posterUrls['/assets/poster/09-service.png']}}"
            data-src="{{posterUrls['/assets/poster/09-service.png']}}"
            binderror="onImageError"
          />
          <image
            class="poster-image"
            mode="widthFix"
            src="{{posterUrls['/assets/poster/08-parents.png']}}"
            data-src="{{posterUrls['/assets/poster/08-parents.png']}}"
            binderror="onImageError"
          />
        </view>
      </view>
    </view>
  </scroll-view>

  <view class="bottom-bar">
    <view class="bottom-bar-inner">
      <view class="bottom-info">
        <text class="bottom-label">活动费用</text>
        <text class="bottom-price">咨询价</text>
      </view>
      <t-button class="apply-btn" theme="primary" shape="round" size="small" bindtap="onApply">我要报名</t-button>
    </view>
  </view>

  <view class="home-indicator"></view>

  <view class="period-mask" wx:if="{{periodPopupVisible}}" bindtap="onClosePeriods">
    <view class="period-sheet" catchtap>
      <view class="period-head">
        <view class="period-top">
          <text class="period-title">少年独角兽 AI 创业营 2026</text>
          <text class="period-price">咨询价</text>
        </view>
        <view class="period-sub">报名截止：{{periods[selectedPeriodIndex].deadline}}</view>
        <text class="period-quota">{{periods[selectedPeriodIndex].quota}}</text>
      </view>
      <view class="period-section-title">期数选择</view>
      <view class="period-list">
        <view
          class="period-item {{selectedPeriodIndex === index ? 'active' : ''}}"
          wx:for="{{periods}}"
          wx:key="id"
          data-index="{{index}}"
          bindtap="onSelectPeriod"
        >
          <text>{{item.name}}（{{item.date}}）</text>
        </view>
      </view>
      <t-button class="period-confirm" theme="primary" shape="round" size="small" bindtap="onConfirmPeriod">确认</t-button>
    </view>
  </view>
</view>
